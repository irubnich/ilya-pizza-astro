---
import BaseLayout from '../layouts/BaseLayout.astro'
let title = 'ilya rubnich';

let posts = await Astro.fetchContent('./posts/*.md')
posts = posts.sort((a, b) => new Date(b.publishDate).valueOf() - new Date(a.publishDate).valueOf())
---

<BaseLayout title={title}>
	<div>
		<h1>hi</h1>
		<p>index page text</p>
	</div>
	<div>
		<h1><a href='/blog'>posts</a></h1>
		<ul>
			{posts.map(p =>
				<li><a href={p.url}>{p.title}</a></li>
			)}
		</ul>
	</div>
</BaseLayout>
